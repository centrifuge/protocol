@startuml gateway
title Gateway
hide empty members

package messaging {
    class MessageDispatcher
    class MessageProcessor
    class GasService
}

package admin {
    class Guardian
    class Root
    class TokenRecoverer
}

package adapters {
    class AxelarAdapter
    class WormholeAdapter
    class LayerZeroAdapter
    class RecoveryAdapter
}

class Gateway
class BatchedMulticall
class MultiAdapter
class PoolEscrow

interface IAdapter

BatchedMulticall --> Gateway

Gateway --> GasService
Gateway --> Root
Gateway --> MultiAdapter
Gateway --> PoolEscrow

MultiAdapter --> "n" IAdapter

IAdapter <|-- AxelarAdapter
IAdapter <|-- WormholeAdapter
IAdapter <|-- LayerZeroAdapter
IAdapter <|-- RecoveryAdapter

AxelarAdapter --> Gateway
WormholeAdapter --> Gateway
LayerZeroAdapter --> Gateway
RecoveryAdapter --> Gateway

MessageProcessor --> Root
MessageProcessor --> TokenRecoverer
MessageProcessor <--> Gateway

MessageDispatcher <--> Root
MessageDispatcher <--> TokenRecoverer
MessageDispatcher <--> Gateway

Guardian --> Root
Guardian --> MessageDispatcher
Guardian --> MultiAdapter

TokenRecoverer --> Root

@enduml
